{% extends "base.html" %} {% block content %}

<div class="box">
  <h1>Login</h1>
  <!-- TODO: Use Message Flashing to display feedback to the user with a <p> -->

    <div id="flash-messages">
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          {% for message in messages %}
            <p style="color: red;">{{ message }}</p>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>
    <script>
      // Automatically hide flash messages after 3 seconds
      setTimeout(() => {
          const flashMessages = document.getElementById('flash-messages');
          if (flashMessages) {
              flashMessages.style.transition = 'opacity 0.5s ease';
              flashMessages.style.opacity = '0'; // Fade out
              setTimeout(() => flashMessages.remove(), 500); // Remove after fading
          }
      }, 3000); // 3 seconds
  </script>
    <form action="{{ url_for('login') }}" method="post">
    <input type="text" name="email" placeholder="Email" required="required" />
    <input
      type="password"
      name="password"
      placeholder="Password"
      required="required"
    />
    <button type="submit" class="btn btn-primary btn-block btn-large">
      Let me in.
    </button>
  </form>
</div>

{% endblock %}
